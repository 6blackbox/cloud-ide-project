"use client";import { RefreshCw, ExternalLink, Globe } from "lucide-react";import { useState, useRef } from "react";export default function BrowserPreview({ previewUrl, key }) {  const [isLoading, setIsLoading] = useState(true);  const iframeRef = useRef(null);  const reload = () => {    setIsLoading(true);    if(iframeRef.current) iframeRef.current.src = iframeRef.current.src;  };  if (!previewUrl) {     return (        <div className="h-full w-full pro-panel rounded-xl flex flex-col items-center justify-center text-[var(--text-muted)]">            <Globe className="w-12 h-12 mb-4 opacity-20" />            <p>Server Offline</p>            <p className="text-xs opacity-50 mt-2">Run a server on process.env.PORT to see preview</p>        </div>     );  }  return (    <div className="h-full w-full pro-panel rounded-xl flex flex-col overflow-hidden border border-[var(--border-color)]">      {}      <div className="h-10 px-4 border-b border-[var(--border-color)] flex items-center gap-3 bg-[var(--bg-app)]">        <div className="flex gap-1.5">            <div className="w-2.5 h-2.5 rounded-full bg-red-500/20"></div>            <div className="w-2.5 h-2.5 rounded-full bg-yellow-500/20"></div>            <div className="w-2.5 h-2.5 rounded-full bg-green-500/20"></div>        </div>        <div className="flex-1 bg-[var(--bg-panel)] h-6 rounded-md border border-[var(--border-color)] flex items-center px-3 text-xs text-[var(--text-muted)] font-mono overflow-hidden">             {previewUrl}        </div>        <button onClick={reload} className="text-[var(--text-muted)] hover:text-[var(--text-main)]">            <RefreshCw className={`w-3.5 h-3.5 ${isLoading ? "animate-spin" : ""}`} />        </button>        <a href={previewUrl} target="_blank" rel="noreferrer" className="text-[var(--text-muted)] hover:text-[var(--text-main)]">            <ExternalLink className="w-3.5 h-3.5" />        </a>      </div>      {}      <div className="flex-1 bg-white relative">         <iframe             ref={iframeRef}            key={key}             src={previewUrl}            className="w-full h-full border-none"            onLoad={() => setIsLoading(false)}         />      </div>    </div>  );}